include ../check-button/check-button.pug
include ../form-set/form-set.pug

mixin expandable-checkbox-list(options)
  - const blockName = "expandable-checkbox-list"
  if !options
    - options = {}

  DIV(
    class=blockName
    id=options.id
    class=options.isExpanded ? `${blockName}_expanded` : ""
  )
    INPUT(
      class=`${blockName}__check`
      id=`${options.id}-check`
      type="checkbox"
      checked=options.isExpanded ? true : false
    )
    LABEL(
      class=`${blockName}__expand-more`
      class="material-icons"
      for=`${options.id}-check`
    )
    DIV(
      class=`${blockName}__list`
    )
      +form-set({ isGrouped: true, isMarginNone: true })
        if !options.list
          - options.list = []
        each item, index in options.list
          - item.id = item.id ? item.id : `${options.id}-${index}`
          .form-set__element(class=index!==0 ? "form-set__element_indent-in_check-buttons" : "form-set__element_margin_none")
            +check-button(item)