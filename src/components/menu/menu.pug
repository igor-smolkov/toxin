include ../button/button.pug
include ../link/link.pug
include ../nav-links/nav-links.pug

mixin menu(options = {})
  - const blockName = "menu";
  - const { navLinks, user } = options;
  -
    const signInButtonOptions = {
      caption: "Войти",
      isBorderOnly: true,
      isCompact: true,
      link: "sign-in.html",
    }
    const regButtonOptions = {
      caption: "Зарегистрироваться",
      isCompact: true,
      link: "registration.html",
    }

  DIV(class=blockName)
    DIV(class=`${blockName}__nav-links`)
      +nav-links({ navLinks, isHead: true, })
    DIV(class=`${blockName}__user-panel`)
      if (user)
        DIV(
          class=`${blockName}__user-panel-item`,
          class=`${blockName}__user-panel-item_only`
        )
          +link(user)
      else
        DIV(
          class=`${blockName}__user-panel-item`,
          class=`${blockName}__user-panel-item_first`
        )
          +button(signInButtonOptions)
        DIV(class=`${blockName}__user-panel-item`)
          +button(regButtonOptions)
